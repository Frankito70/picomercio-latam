# LATAM PiComercio - Flujo de Fideicomiso Inteligente

## üìå Descripci√≥n

LATAM PiComercio implementa un sistema de fideicomiso asistido por IA (AIGen) para proteger transacciones entre compradores y vendedores que operan con la criptomoneda Pi. El pago se retiene hasta que ambas partes confirmen env√≠o y recepci√≥n.

---

## üß± Estructura t√©cnica del sistema

| Paso | Archivo / Ruta                       | Funci√≥n                                      |
|------|--------------------------------------|----------------------------------------------|
| 1Ô∏è‚É£   | `lib/fideicomisoSchema.js`           | Estructura base del modelo fiduciario        |
| 2Ô∏è‚É£   | Tabla `fideicomisos` en Supabase     | Almac√©n de transacciones fiduciarias         |
| 3Ô∏è‚É£   | `ConfirmacionEnvio.jsx`             | Vendedor confirma que envi√≥ el pedido        |
| 4Ô∏è‚É£   | `ConfirmacionRecepcion.jsx`         | Comprador confirma que recibi√≥               |
| 5Ô∏è‚É£   | `validarFideicomisoAIGen.js`         | IA decide si liberar pago o abrir disputa    |
| 6Ô∏è‚É£   | `liberarPagoPi.js`                  | Enviar Pi al vendedor v√≠a SDK Pi Network     |

---

## üîÑ Estados de transacci√≥n

- `pendiente`: esperando confirmaciones
- `validando`: IA procesando condiciones
- `liberado`: pago realizado con √©xito
- `en_disputa`: falta confirmaci√≥n o tiempo excedido
- `cancelado`: anulado por una de las partes

---

## üß† Evaluaci√≥n IA

AIGen analiza si:
- Ambas partes confirmaron ‚Üí ‚úÖ Liberar pago
- Env√≠o confirmado sin recepci√≥n en X d√≠as ‚Üí ‚ö†Ô∏è Disputa autom√°tica

---

## üí∏ Liberaci√≥n del pago

Se usa `createPayment()` del SDK Pi:

```js
window.PiNetwork.createPayment({
  amount: monto,
  memo: "Pago liberado por LATAM PiComercio",
  metadata: { tipo: "liberacion_fideicomiso", transaccion_id }
}, callback);
